<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" rx="10" ry="10" />
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Sparsity Exploitation Mechanism</text>
  
  <!-- Three Sections Title -->
  <text x="200" y="80" font-family="Arial" font-size="18" text-anchor="middle">(a) Zero Detection & Skipping</text>
  <text x="600" y="80" font-family="Arial" font-size="18" text-anchor="middle">(b) Compressed Storage</text>
  <text x="400" y="340" font-family="Arial" font-size="18" text-anchor="middle">(c) Performance Impact</text>
  
  <!-- (a) Zero Detection & Skipping -->
  <rect x="50" y="100" width="300" height="220" fill="#fff2cc" stroke="#333" stroke-width="2" rx="5" ry="5" />
  
  <!-- Visual representation of weights and activations with zeros -->
  <rect x="70" y="120" width="40" height="40" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="90" y="145" font-family="Arial" font-size="14" text-anchor="middle">5</text>
  
  <rect x="110" y="120" width="40" height="40" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="130" y="145" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <rect x="150" y="120" width="40" height="40" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="170" y="145" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <rect x="190" y="120" width="40" height="40" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="210" y="145" font-family="Arial" font-size="14" text-anchor="middle">3</text>
  
  <rect x="230" y="120" width="40" height="40" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="250" y="145" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <rect x="270" y="120" width="40" height="40" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="290" y="145" font-family="Arial" font-size="14" text-anchor="middle">2</text>
  
  <!-- Zero detector -->
  <rect x="70" y="180" width="240" height="50" fill="#e2c8ff" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="190" y="210" font-family="Arial" font-size="16" text-anchor="middle">Zero Detection Logic</text>
  
  <!-- Skip or compute based on zeros -->
  <rect x="70" y="250" width="110" height="50" fill="#d1e7dd" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="125" y="280" font-family="Arial" font-size="14" text-anchor="middle">Skip</text>
  <line x1="125" y1="242" x2="125" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <rect x="200" y="250" width="110" height="50" fill="#d1e7dd" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="255" y="280" font-family="Arial" font-size="14" text-anchor="middle">Compute</text>
  <line x1="255" y1="242" x2="255" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <line x1="190" y1="160" x2="190" y2="180" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- (b) Compressed Storage Format -->
  <rect x="450" y="100" width="300" height="220" fill="#d9d9ff" stroke="#333" stroke-width="2" rx="5" ry="5" />
  
  <!-- Uncompressed vs Compressed Storage Visualization -->
  <!-- Uncompressed -->
  <rect x="470" y="120" width="260" height="80" fill="#cfe2ff" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="600" y="140" font-family="Arial" font-size="16" text-anchor="middle">Uncompressed Storage</text>
  
  <rect x="480" y="150" width="30" height="30" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="495" y="170" font-family="Arial" font-size="14" text-anchor="middle">5</text>
  
  <rect x="510" y="150" width="30" height="30" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="525" y="170" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <rect x="540" y="150" width="30" height="30" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="555" y="170" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <rect x="570" y="150" width="30" height="30" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="585" y="170" font-family="Arial" font-size="14" text-anchor="middle">3</text>
  
  <rect x="600" y="150" width="30" height="30" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="615" y="170" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <rect x="630" y="150" width="30" height="30" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="645" y="170" font-family="Arial" font-size="14" text-anchor="middle">2</text>
  
  <rect x="660" y="150" width="30" height="30" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="675" y="170" font-family="Arial" font-size="14" text-anchor="middle">0</text>
  
  <!-- Compression Arrow -->
  <line x1="600" y1="200" x2="600" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Compressed -->
  <rect x="470" y="220" width="260" height="80" fill="#d1e7dd" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="600" y="240" font-family="Arial" font-size="16" text-anchor="middle">Compressed Storage</text>
  
  <rect x="480" y="255" width="30" height="30" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="495" y="275" font-family="Arial" font-size="14" text-anchor="middle">5</text>
  
  <rect x="510" y="255" width="45" height="30" fill="#e2c8ff" stroke="#333" stroke-width="1" />
  <text x="532" y="275" font-family="Arial" font-size="14" text-anchor="middle">(2,0)</text>
  
  <rect x="555" y="255" width="30" height="30" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="570" y="275" font-family="Arial" font-size="14" text-anchor="middle">3</text>
  
  <rect x="585" y="255" width="45" height="30" fill="#e2c8ff" stroke="#333" stroke-width="1" />
  <text x="607" y="275" font-family="Arial" font-size="14" text-anchor="middle">(1,0)</text>
  
  <rect x="630" y="255" width="30" height="30" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="645" y="275" font-family="Arial" font-size="14" text-anchor="middle">2</text>
  
  <rect x="660" y="255" width="45" height="30" fill="#e2c8ff" stroke="#333" stroke-width="1" />
  <text x="682" y="275" font-family="Arial" font-size="14" text-anchor="middle">(1,0)</text>
  
  <!-- Space savings indicator -->
  <text x="680" y="185" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Storage</text>
  <text x="680" y="200" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Reduction</text>
  
  <!-- (c) Performance Impact -->
  <rect x="150" y="360" width="500" height="200" fill="#e2f0d9" stroke="#333" stroke-width="2" rx="5" ry="5" />
  
  <!-- Performance comparison visualization -->
  <rect x="170" y="380" width="220" height="160" fill="#fff2cc" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="280" y="400" font-family="Arial" font-size="16" text-anchor="middle">Without Sparsity</text>
  
  <!-- Visual representation of computation without sparsity -->
  <rect x="190" y="420" width="180" height="100" fill="#ffffff" stroke="#333" stroke-width="1" />
  
  <!-- Matrix representation -->
  <g transform="translate(190, 420)">
    <!-- Weight matrix with 70% zeros -->
    <rect x="10" y="10" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="30" y="10" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="50" y="10" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="70" y="10" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    
    <rect x="10" y="30" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="30" y="30" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="50" y="30" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="70" y="30" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    
    <rect x="10" y="50" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="30" y="50" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="50" y="50" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="70" y="50" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    
    <rect x="10" y="70" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="30" y="70" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="50" y="70" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="70" y="70" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <!-- X symbol -->
    <text x="100" y="50" font-family="Arial" font-size="24" text-anchor="middle">×</text>
    
    <!-- Activation matrix with 50% zeros -->
    <rect x="110" y="20" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="130" y="20" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    
    <rect x="110" y="40" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="130" y="40" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    
    <rect x="110" y="60" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="130" y="60" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <rect x="110" y="80" width="20" height="20" fill="#ffcccc" stroke="#333" stroke-width="0.5" />
    <rect x="130" y="80" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <!-- Equal symbol -->
    <text x="160" y="50" font-family="Arial" font-size="24" text-anchor="middle">=</text>
    
    <!-- 16 computations visualization -->
    <text x="175" y="50" font-family="Arial" font-size="14" text-anchor="start">16 MACs</text>
  </g>
  
  <text x="280" y="535" font-family="Arial" font-size="14" text-anchor="middle">100% Compute</text>
  <text x="280" y="550" font-family="Arial" font-size="14" text-anchor="middle">100% Storage</text>
  
  <rect x="410" y="380" width="220" height="160" fill="#d1e7dd" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <text x="520" y="400" font-family="Arial" font-size="16" text-anchor="middle">With Sparsity</text>
  
  <!-- Visual representation of computation with sparsity -->
  <rect x="430" y="420" width="180" height="100" fill="#ffffff" stroke="#333" stroke-width="1" />
  
  <!-- Matrix representation with sparsity -->
  <g transform="translate(430, 420)">
    <!-- Only non-zero values computed -->
    <rect x="10" y="10" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="50" y="10" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <rect x="10" y="30" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <rect x="30" y="70" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="70" y="70" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <!-- X symbol -->
    <text x="100" y="50" font-family="Arial" font-size="24" text-anchor="middle">×</text>
    
    <!-- Only non-zero activations -->
    <rect x="110" y="20" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <rect x="110" y="60" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    <rect x="130" y="60" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <rect x="130" y="80" width="20" height="20" fill="#cfe2ff" stroke="#333" stroke-width="0.5" />
    
    <!-- Equal symbol -->
    <text x="160" y="50" font-family="Arial" font-size="24" text-anchor="middle">=</text>
    
    <!-- 5 computations visualization -->
    <text x="175" y="50" font-family="Arial" font-size="14" text-anchor="start">5 MACs</text>
  </g>
  
  <text x="520" y="535" font-family="Arial" font-size="14" text-anchor="middle">31% Compute</text>
  <text x="520" y="550" font-family="Arial" font-size="14" text-anchor="middle">33% Storage</text>
  
  <!-- Arrow between the two -->
  <line x1="390" y1="460" x2="410" y2="460" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Legend -->
  <rect x="250" y="570" width="300" height="20" fill="white" stroke="#333" stroke-width="1" rx="3" ry="3" />
  <rect x="260" y="570" width="15" height="15" fill="#cfe2ff" stroke="#333" stroke-width="1" />
  <text x="285" y="583" font-family="Arial" font-size="12" text-anchor="start">Non-zero Value</text>
  <rect x="380" y="570" width="15" height="15" fill="#ffcccc" stroke="#333" stroke-width="1" />
  <text x="405" y="583" font-family="Arial" font-size="12" text-anchor="start">Zero Value</text>
  <rect x="480" y="570" width="15" height="15" fill="#e2c8ff" stroke="#333" stroke-width="1" />
  <text x="505" y="583" font-family="Arial" font-size="12" text-anchor="start">Encoding</text>
</svg>